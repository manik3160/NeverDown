# NeverDown Environment Configuration
# Copy this file to .env and fill in your values

# === API Configuration ===
API_HOST=0.0.0.0
API_PORT=8000
DEBUG=false

# API authentication key (generate a secure random value)
API_KEY=YourAPIKeyHere

# === Database Configuration ===
DATABASE_URL=postgresql+asyncpg://neverdown:password@localhost:5432/neverdown

# === GitHub Configuration ===
# Personal access token with repo permissions
GITHUB_TOKEN=ghp_xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx

# Webhook secret for verifying GitHub webhook signatures
GITHUB_WEBHOOK_SECRET=your-webhook-secret

# === LLM Configuration ===
# Provider: 'anthropic' or 'openai'
LLM_PROVIDER=anthropic

# API key for the LLM provider
LLM_API_KEY=sk-ant-xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx

# Model to use (default: claude-sonnet-4-20250514)
LLM_MODEL=claude-sonnet-4-20250514

# Max tokens for LLM responses
LLM_MAX_TOKENS=4096

# Temperature for LLM (0.0-1.0)
LLM_TEMPERATURE=0.0

# === Reasoner Configuration ===
# Minimum confidence threshold for accepting a fix
REASONER_CONFIDENCE_THRESHOLD=0.7

# === Docker/Sandbox Configuration ===
# Docker image for sandbox execution
SANDBOX_IMAGE=python:3.11-slim

# Sandbox timeout in seconds
SANDBOX_TIMEOUT=300

# Memory limit for sandbox containers
SANDBOX_MEMORY_LIMIT=512m

# === File Paths ===
# Directory for cloned repositories
CLONE_DIR=/tmp/neverdown/clones

# Directory for sanitized repositories
SANITIZED_REPO_DIR=/tmp/neverdown/sanitized

# Security rules YAML file
REDACTION_PATTERNS_FILE=config/security_rules.yaml

# === Retry Configuration ===
MAX_RETRIES=3

# === Sanitizer Configuration ===
# Maximum secrets allowed before halting
SANITIZER_MAX_SECRETS=50
